(this["webpackJsonpfcc-exercise-tracker"]=this["webpackJsonpfcc-exercise-tracker"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n(23),r=n.n(i),s=n(8),c=n(9),l=n(2),o=n(11),d=n(10),h=n(1),u=n.n(h),j=n(7),b=n(0),p=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={username:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){console.log(e.target.value),console.log(this.state.username),this.setState({username:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://localhost:5000/api/users",{method:"POST",body:JSON.stringify(this.state),headers:{"Content-type":"application/json"}}).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,t.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{id:"user-form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("div",{id:"form-title",children:"Create New User "}),Object(b.jsxs)("div",{id:"label-input",children:[Object(b.jsx)("label",{htmlFor:"user",children:"User"}),Object(b.jsx)("input",{id:"user",onChange:this.handleChange,type:"text",name:"user",placeholder:"username",value:this.state.username})]})]})})}}]),n}(a.Component),g=p,O=(n(30),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={_id:"",description:"",duration:"",date:""},a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.handleChange=a.handleChange.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;"_id"===t?this.setState({_id:n}):"description"===t?this.setState({description:n}):"duration"===t?this.setState({duration:n}):"date"===t&&this.setState({date:n}),console.log(this.state)}},{key:"handleSubmit",value:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(JSON.stringify({description:this.state.description,duration:this.state.duration,date:this.state.date}),"submitting"),e.next=4,fetch("http://localhost:5000/api/users/".concat(this.state._id,"/exercises"),{method:"POST",body:JSON.stringify({description:this.state.description,duration:this.state.duration,date:this.state.date}),headers:{"Content-type":"application/json",Accept:"application/json, text/plain, */*"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{id:"exercise-form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("div",{id:"form-title",children:"Create New Exercise"}),Object(b.jsxs)("div",{id:"form-inputs",children:[Object(b.jsxs)("div",{id:"label-input",children:[Object(b.jsx)("label",{htmlFor:"_id",children:"ID"}),Object(b.jsx)("input",{id:"_id",onChange:this.handleChange,type:"text",name:"_id",placeholder:"ID",value:this.state._id})]}),Object(b.jsxs)("div",{id:"label-input",children:[Object(b.jsx)("label",{htmlFor:"description",children:"Description"}),Object(b.jsx)("input",{id:"description",onChange:this.handleChange,type:"text",name:"description",placeholder:"description",value:this.state.description})]}),Object(b.jsxs)("div",{id:"label-input",children:[Object(b.jsx)("label",{htmlFor:"duration",children:"Duration"}),Object(b.jsx)("input",{id:"duration",onChange:this.handleChange,type:"text",name:"duration",placeholder:"duration",value:this.state.duration})]}),Object(b.jsxs)("div",{id:"label-input",children:[Object(b.jsx)("label",{htmlFor:"date",children:"Date"}),Object(b.jsx)("input",{id:"date",onChange:this.handleChange,type:"date",name:"date",placeholder:"date",value:this.state.date})]})]}),Object(b.jsx)("button",{id:"exercise-submit-button",type:"submit",children:"Submit"})]})})}}]),n}(a.Component)),m=O,x=(n(49),n(4)),f=n(5),v=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={_id:"",logs:[],exerciseID:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.handleEdit=a.handleEdit.bind(Object(l.a)(a)),a.handleEditSubmit=a.handleEditSubmit.bind(Object(l.a)(a)),a.handleDelete=a.handleDelete.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){if(console.log(e.target.value),"exercises-list-id"===e.target.id)this.setState({_id:e.target.value});else{var t=Array.from(e.target.parentElement.parentElement.parentElement.children).indexOf(e.target.parentElement.parentElement);"edit-description"===e.target.id?this.setState({logs:[].concat(Object(f.a)(this.state.logs.slice(0,t)),[Object(x.a)(Object(x.a)({},this.state.logs[t]),{},{description:e.target.value})],Object(f.a)(this.state.logs.slice(t+1)))}):"edit-duration"===e.target.id&&this.setState({logs:[].concat(Object(f.a)(this.state.logs.slice(0,t)),[Object(x.a)(Object(x.a)({},this.state.logs[t]),{},{duration:Number(e.target.value)})],Object(f.a)(this.state.logs.slice(t+1)))}),e.target.focus()}}},{key:"handleSubmit",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(this.state._id),e.next=4,fetch("http://localhost:5000/api/users/".concat(this.state._id,"/logs"),{method:"GET"}).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,i=Object(f.a)(a.logs).map((function(e){return Object(x.a)(Object(x.a)({},e),{},{isEditing:!1})})),console.log(i),n.setState({logs:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 4:this.setState({_id:""});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleEdit",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleEdit"),console.log(t.target.parentElement.parentElement.id),n=Array.from(t.target.parentElement.parentElement.parentElement.children).indexOf(t.target.parentElement.parentElement),this.setState({exerciseID:t.target.parentElement.parentElement.id,logs:[].concat(Object(f.a)(this.state.logs.slice(0,n)),[Object(x.a)(Object(x.a)({},this.state.logs[n]),{},{isEditing:!0})],Object(f.a)(this.state.logs.slice(n+1)))});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleEditSubmit",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,i,r,s,c,l,o,d=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleEditSubmit"),n=Array.from(t.target.parentElement.parentElement.parentElement.children).indexOf(t.target.parentElement.parentElement),this.setState({exerciseID:"",logs:[].concat(Object(f.a)(this.state.logs.slice(0,n)),[Object(x.a)(Object(x.a)({},this.state.logs[n]),{},{isEditing:!1})],Object(f.a)(this.state.logs.slice(n+1)))}),a=this.state.logs.filter((function(e){return e._id===d.state.exerciseID})),console.log(a),i=a[0],r=i.date,s=i.description,c=i.duration,l=i._id,o={date:r,description:s,duration:c,_id:l},e.next=9,fetch("http://localhost:5000/api/users/".concat(this.state.exerciseID,"/logs"),{method:"PATCH",body:JSON.stringify(o),headers:{"Content-type":"application/json"}});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleDelete"),n=Array.from(t.target.parentElement.parentElement.parentElement.children).indexOf(t.target.parentElement.parentElement),a=t.target.parentElement.parentElement.id,console.log(a),this.setState({exerciseID:"",logs:[].concat(Object(f.a)(this.state.logs.slice(0,n)),[Object(x.a)(Object(x.a)({},this.state.logs[n]),{},{isEditing:!1})],Object(f.a)(this.state.logs.slice(n+1)))}),e.next=7,fetch("http://localhost:5000/api/users/".concat(a,"/logs"),{method:"DELETE"});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{id:"get-exercises-form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("div",{id:"form-title",children:"Get Your Exercise Logs"}),Object(b.jsx)("div",{id:"form-inputs",children:Object(b.jsxs)("div",{id:"label-input",children:[Object(b.jsx)("label",{htmlFor:"exercises-list-id",children:"User ID"}),Object(b.jsx)("input",{id:"exercises-list-id",value:this.state._id,onChange:this.handleChange,type:"text",name:"_id",placeholder:"ID"})]})})]}),Object(b.jsxs)("table",{id:"exercise-list-table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{children:"Duration"}),Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{id:"action",children:"Edit"}),Object(b.jsx)("th",{id:"action",children:"Delete"})]})}),Object(b.jsx)("tbody",{children:this.state.logs.map((function(t){var n=t._id,a=t.description,i=t.duration,r=t.date,s=new Date(r).getFullYear(),c=new Date(r).getMonth()+1,l="".concat(new Date(r).getDate());l=Number(l)<10?"0".concat(l):"".concat(l);var o="".concat(s,"-").concat(c,"-").concat(l),d=e.state.logs.indexOf(t),h=e.state.logs[d].isEditing;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("tr",{id:n,children:[Object(b.jsx)("td",{children:h?Object(b.jsx)("input",{id:"edit-description",type:"text",value:a,onChange:e.handleChange},"".concat(n,"3")):a},"".concat(n,"2")),Object(b.jsx)("td",{children:h?Object(b.jsx)("input",{id:"edit-duration",type:"number",value:i,onChange:e.handleChange},"".concat(n,"5")):i},"".concat(n,"4")),Object(b.jsx)("td",{children:h?Object(b.jsx)("input",{id:"edit-date",type:"date",value:o,onChange:e.handleChange},"".concat(n,"7")):r.toString()},"".concat(n,"6")),Object(b.jsxs)("td",{id:"action",children:[console.log("onEditingRow",h),Object(b.jsx)("button",{onClick:h?e.handleEditSubmit:e.handleEdit,id:"action",children:h?"Done":"Edit"},"".concat(n,"9"))]},"".concat(n,"8")),Object(b.jsx)("td",{id:"action",children:Object(b.jsx)("button",{onClick:e.handleDelete,id:"action",children:"Delete"},"".concat(n,"11"))},"".concat(n,"10"))]},"".concat(n,"1"))})}))})]})]})}}]),n}(a.Component),E=v,y=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={_id:""},a.handle_idChange=a.handle_idChange.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"handle_idChange",value:function(e){this.setState({_id:e}),console.log(e)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{style:{textAlign:"center"},children:"Exercise Tracker"}),Object(b.jsx)(g,{handle_idChange:this.handle_idChange}),Object(b.jsx)(m,{}),Object(b.jsx)(E,{handle_idChange:this.handle_idChange})]})}}]),n}(a.Component);r.a.render(Object(b.jsx)(y,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.8426a1d6.chunk.js.map